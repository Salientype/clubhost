
<!doctype html>
<html lang="en">
<head>
    <%-  include('../partials/head') -%>
</head>

<header>
    <%-  include('../partials/header') -%>
</header>

  <div class="logo">
			<img src="/logo.jpeg" alt="Club Social" width="150" height="150">
		</div>

  <div class="container register-form">
    <div class="form">
        <div class="note">
            <p>Register</p>
        </div>

        <div class="form-content">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <input type="text" class="form-control" id="registerFirstName" placeholder="Your First Name *" value=""/>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" id="registerEmail" placeholder="Your Email *" value=""/>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <input type="text" class="form-control" id="registerLastName" placeholder="Your Last Name *" value=""/>
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" id="registerPassword" placeholder="Your Password *" value=""/>
                    </div>
                </div>
            </div>
            <button type="button" class="btnSubmit" onclick="submitRegister(event)">Submit</button>
        </div>
    </div>
</div>
<a href="/auth/linkedin">Login with LinkedIn</a>

<footer>
    <%-  include('../partials/footer') -%>
</footer>
  </body>
  
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="/js/axios.js"></script>
  <script src="/js/jquery.js"></script>
  <script src="/js/app.js"></script>
  <script>
 
 function submitRegister(event) {
        event.preventDefault();
        let firstName_input = document.getElementById('registerFirstName').value
        let lastName_input = document.getElementById('registerLastName').value 
        
        let email_input = document.getElementById('registerEmail').value
        
        let password_input = document.getElementById('registerPassword').value
        let data = {
            first_name : firstName_input,
            last_name : lastName_input,
            email : email_input,
            password: password_input
        };
        let successCallback = function(response) {
            window.localStorage.setItem("user_id", response.id);
            window.localStorage.setItem("name", response.name);
            window.location = '/users'
        }
        let failureCallback = function(response) {
        $('#errorMessage').html(response.responseText);
        //document.elementById('errorMessage').innerHtml = response.responseText
        }
        apiRegister(data, successCallback);
    }
  
</script>

</html>
